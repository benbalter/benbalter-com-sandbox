{"author":"Benjamin J. Balter","title":"GW Course Schedule and Campus API","excerpt":"George Washington University recently released an iPhone app that allows students to look up the course schedule and each course's open/closed status as well as browse an interactive map of the campus. Below you can find the details on GW's course schedule and campus map API endpoints, as well as an API wrapper to interact with it written in PHP.","layout":"post","categories":["Technology"],"tags":["api","code","gw","hack","open source"],"post_format":[],"related_posts":[{"url":"/2010/09/12/wordpress-resume-plugin/","id":"/2010/09/12/wordpress-resume-plugin","title":"WordPress Resume Plugin"},{"url":"/2010/09/13/new-media-flak-megaphone-vs-cocktail-party/","id":"/2010/09/13/new-media-flak-megaphone-vs-cocktail-party","title":"New Media Flak: Megaphone vs. Cocktail Party"},{"url":"/2010/10/10/does-every-cloud-have-a-silver-lining/","id":"/2010/10/10/does-every-cloud-have-a-silver-lining","title":"Does Every Cloud Have a Silver Lining?"},{"url":"/2010/11/06/removing-the-barriers-to-organizational-agility/","id":"/2010/11/06/removing-the-barriers-to-organizational-agility","title":"Removing the Barriers to Organizational Agility\n"},{"url":"/2010/11/08/what-fourteen-century-apple-pie-teaches-us-about-sharing/","id":"/2010/11/08/what-fourteen-century-apple-pie-teaches-us-about-sharing","title":"What Fourteen-Century Apple Pie Teaches Us About Sharing\n"},{"url":"/2010/11/15/will-federal-contracting-officers-soon-have-their-heads-in-the-clouds/","id":"/2010/11/15/will-federal-contracting-officers-soon-have-their-heads-in-the-clouds","title":"Will Federal Contracting Officers Soon Have Their Heads in the Clouds?\n"},{"url":"/2010/11/29/free-trade-in-china-just-google-it/","id":"/2010/11/29/free-trade-in-china-just-google-it","title":"Free Trade in China? Just Google it."},{"url":"/2010/11/29/twitter-mentions-as-comments/","id":"/2010/11/29/twitter-mentions-as-comments","title":"Twitter Mentions as Comments WordPress Plugin\n"},{"url":"/2010/12/01/the-internet-is-series-of-tubes/","id":"/2010/12/01/the-internet-is-series-of-tubes","title":"The Internet is Series of Tubes (oh, and Tollgates too)\n"},{"url":"/2010/12/20/late-night-infomercials/","id":"/2010/12/20/late-night-infomercials","title":"Late-Night Infomercials: Guaranteed to Extend the 4th Amendment or Your Money Back"}],"url":"/2011/01/25/gw-course-schedule-and-campus-api/","date":"2011-01-25 00:00:00 +0000","id":"/2011/01/25/gw-course-schedule-and-campus-api","next":"/2011/02/03/a-site-by-any-other-name","previous":"/2011/01/11/wordpress-emphasis-plugin","content":"<p><img alt='Course Schedule' class='alignright' src='http://ben.balter.com/wp-content/uploads/2011/01/1430289931_beb7ff6428_b-300x225.jpg' />George Washington University recently released an <a href='http://acadtech.gwu.edu/pages/gwmobile'>iPhone app</a> that allows students to look up the course schedule and each course&#8217;s open/closed status as well as browse an interactive map of the campus. Naturally, upon installing the app, the first thing to do is to try and ferret out the underlying XML API that powers it, a simple enough task given <a href='http://blog.jerodsanto.net/2009/06/sniff-your-iphones-network-traffic/'>the right tools</a>.</p>\n\n<p>Below you can find the details on GW&#8217;s course schedule and campus map API endpoints, as well as an API wrapper to interact with it written in PHP. Feel free to grab the code below, or fork and contribute in the <a href='https://github.com/benbalter/GW-API'>GitHub repo</a>. Cool data that deserves to be shared with the world, no doubt.</p>\n\n<p>Creative ideas on how best to leverage the information welcome in the <a href='#comments'>comments below</a>.</p>\n\n<p><em>Please Note: I am not a GW employee, nor is use of the API explicitly authorized by the University. The code below is provided &#8220;as is&#8221; solely for educational purposes. If for any reason you would like this page removed, please <a href='http://ben.balter.com/contact/'>contact me</a> immediately and I will do so.</em></p>\n<hr />\n<h3 id='course_schedule'>Course Schedule</h3>\n\n<ol>\n<li>\n<p>Departments</p>\n\n<ol>\n<li>Endpoint: <code>http://my.gwu.edu/mod/pws/scheduleXML.cfm</code></li>\n\n<li>Parameters: <code>termCode=[YYYY][01=spring, 02=summer, 03=fall]</code></li>\n\n<li>Returns</li>\n</ol>\n<div class='highlight'><pre><code class='xml'><span class='cp'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;</span>\n<span class='nt'>&lt;departments&gt;</span>\n<span class='nt'>&lt;department&gt;</span>\n    <span class='nt'>&lt;departmentcode&gt;</span><span class='cp'>&lt;![CDATA[ACCY]]&gt;</span><span class='nt'>&lt;/departmentcode&gt;</span>\n    <span class='nt'>&lt;departmentname&gt;</span><span class='cp'>&lt;![CDATA[Accountancy]]&gt;</span><span class='nt'>&lt;/departmentname&gt;</span>\n<span class='nt'>&lt;/department&gt;</span>\n<span class='nt'>&lt;department&gt;</span>\n    <span class='nt'>&lt;departmentcode&gt;</span><span class='cp'>&lt;![CDATA[AH]]&gt;</span><span class='nt'>&lt;/departmentcode&gt;</span>\n    <span class='nt'>&lt;departmentname&gt;</span><span class='cp'>&lt;![CDATA[Art/Art History]]&gt;</span><span class='nt'>&lt;/departmentname&gt;</span>\n<span class='nt'>&lt;/department&gt;</span>\n<span class='nt'>&lt;/departments&gt;</span>\n    \n</code></pre></div></li>\n\n<li>\n<p>Courses</p>\n\n<ol>\n<li>\n<p>Endpoint: <code>http://my.gwu.edu/mod/pws/scheduleXML.cfm</code></p>\n</li>\n\n<li>\n<p>Parameters:</p>\n\n<ol>\n<li><code>termCode=[YYYY][01=spring, 02=summer, 03=fall]</code></li>\n\n<li><code>deptCode=[Dept. Code]</code></li>\n</ol>\n</li>\n\n<li>\n<p>Returns:</p>\n</li>\n</ol>\n</li>\n</ol>\n<div class='highlight'><pre><code class='xml'><span class='cp'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;</span>\n<span class='nt'>&lt;courses&gt;</span>\n    <span class='nt'>&lt;course&gt;</span>\n        <span class='nt'>&lt;coursedepartment&gt;</span><span class='cp'>&lt;![CDATA[ACCY]]&gt;</span><span class='nt'>&lt;/coursedepartment&gt;</span>\n        <span class='nt'>&lt;coursenumber&gt;</span><span class='cp'>&lt;![CDATA[6101]]&gt;</span><span class='nt'>&lt;/coursenumber&gt;</span>\n        <span class='nt'>&lt;coursecrn&gt;</span><span class='cp'>&lt;![CDATA[55164]]&gt;</span><span class='nt'>&lt;/coursecrn&gt;</span>\n        <span class='nt'>&lt;coursetitle&gt;</span><span class='cp'>&lt;![CDATA[FinAcctingI:BasicFinStatements]]&gt;</span><span class='nt'>&lt;/coursetitle&gt;</span>\n        <span class='nt'>&lt;courseinstructor&gt;</span><span class='cp'>&lt;![CDATA[ Singleton, L]]&gt;</span><span class='nt'>&lt;/courseinstructor&gt;</span>\n        <span class='nt'>&lt;courselocation&gt;</span><span class='cp'>&lt;![CDATA[&lt;A HREF=&quot;http://www.gwu.edu/~map/building.cfm?BLDG=DUQUES&quot; target=&quot;_blank&quot; &gt;DUQUES&lt;/a&gt; 258]]&gt;</span><span class='nt'>&lt;/courselocation&gt;</span>\n        <span class='nt'>&lt;coursedays&gt;</span><span class='cp'>&lt;![CDATA[MW 06:10PM - 09:05PM]]&gt;</span><span class='nt'>&lt;/coursedays&gt;</span>\n        <span class='nt'>&lt;coursetime&gt;</span><span class='cp'>&lt;![CDATA[]]&gt;</span><span class='nt'>&lt;/coursetime&gt;</span>\n        <span class='nt'>&lt;coursestatus&gt;</span><span class='cp'>&lt;![CDATA[OPEN]]&gt;</span><span class='nt'>&lt;/coursestatus&gt;</span>\n        <span class='nt'>&lt;coursesection&gt;</span><span class='cp'>&lt;![CDATA[81]]&gt;</span><span class='nt'>&lt;/coursesection&gt;</span>\n        <span class='nt'>&lt;coursecredit&gt;</span><span class='cp'>&lt;![CDATA[1.50  ]]&gt;</span><span class='nt'>&lt;/coursecredit&gt;</span>\n    <span class='nt'>&lt;/course&gt;</span>\n    <span class='nt'>&lt;course&gt;</span>\n        <span class='nt'>&lt;coursedepartment&gt;</span><span class='cp'>&lt;![CDATA[ACCY]]&gt;</span><span class='nt'>&lt;/coursedepartment&gt;</span>\n        <span class='nt'>&lt;coursenumber&gt;</span><span class='cp'>&lt;![CDATA[6102]]&gt;</span><span class='nt'>&lt;/coursenumber&gt;</span>\n        <span class='nt'>&lt;coursecrn&gt;</span><span class='cp'>&lt;![CDATA[55165]]&gt;</span><span class='nt'>&lt;/coursecrn&gt;</span>\n        <span class='nt'>&lt;coursetitle&gt;</span><span class='cp'>&lt;![CDATA[Fin Accting II: FinAcc Choices]]&gt;</span><span class='nt'>&lt;/coursetitle&gt;</span>\n        <span class='nt'>&lt;courseinstructor&gt;</span><span class='cp'>&lt;![CDATA[ Tarpley, R]]&gt;</span><span class='nt'>&lt;/courseinstructor&gt;</span>\n        <span class='nt'>&lt;courselocation&gt;</span><span class='cp'>&lt;![CDATA[&lt;A HREF=&quot;http://www.gwu.edu/~map/building.cfm?BLDG=DUQUES&quot; target=&quot;_blank&quot; &gt;DUQUES&lt;/a&gt; 258]]&gt;</span><span class='nt'>&lt;/courselocation&gt;</span>\n        <span class='nt'>&lt;coursedays&gt;</span><span class='cp'>&lt;![CDATA[MW 06:10PM - 09:05PM]]&gt;</span><span class='nt'>&lt;/coursedays&gt;</span>\n        <span class='nt'>&lt;coursetime&gt;</span><span class='cp'>&lt;![CDATA[]]&gt;</span><span class='nt'>&lt;/coursetime&gt;</span>\n        <span class='nt'>&lt;coursestatus&gt;</span><span class='cp'>&lt;![CDATA[OPEN]]&gt;</span><span class='nt'>&lt;/coursestatus&gt;</span>\n        <span class='nt'>&lt;coursesection&gt;</span><span class='cp'>&lt;![CDATA[80]]&gt;</span><span class='nt'>&lt;/coursesection&gt;</span>\n        <span class='nt'>&lt;coursecredit&gt;</span><span class='cp'>&lt;![CDATA[1.50  ]]&gt;</span><span class='nt'>&lt;/coursecredit&gt;</span>\n    <span class='nt'>&lt;/course&gt;</span>\n<span class='nt'>&lt;/courses&gt;</span>\n        \n</code></pre></div>\n<h3 id='campus_map'>Campus Map</h3>\n\n<ol>\n<li>\n<p>Categories</p>\n\n<ol>\n<li>Endpoint: <code>http://citl.gwu.edu/iphonedev/maps/categories.xml</code></li>\n\n<li>Return:</li>\n</ol>\n</li>\n</ol>\n<div class='highlight'><pre><code class='xml'>    \n<span class='cp'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</span>\n<span class='nt'>&lt;categories</span> <span class='na'>xmlns:xsi=</span><span class='s'>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class='nt'>&gt;</span>\n    <span class='nt'>&lt;category&gt;</span>\n        <span class='nt'>&lt;categoryId&gt;</span>1<span class='nt'>&lt;/categoryId&gt;</span>\n        <span class='nt'>&lt;shortname&gt;</span>academic<span class='nt'>&lt;/shortname&gt;</span>\n        <span class='nt'>&lt;categoryName&gt;</span>Academic<span class='nt'>&lt;/categoryName&gt;</span>\n        <span class='nt'>&lt;state&gt;</span>Yes<span class='nt'>&lt;/state&gt;</span>\n    <span class='nt'>&lt;/category&gt;</span>\n    <span class='nt'>&lt;category&gt;</span>\n        <span class='nt'>&lt;categoryId&gt;</span>2<span class='nt'>&lt;/categoryId&gt;</span>\n        <span class='nt'>&lt;shortname&gt;</span>administrative<span class='nt'>&lt;/shortname&gt;</span>\n        <span class='nt'>&lt;categoryName&gt;</span>Administrative<span class='nt'>&lt;/categoryName&gt;</span>\n        <span class='nt'>&lt;state&gt;</span>Yes<span class='nt'>&lt;/state&gt;</span>\n    <span class='nt'>&lt;/category&gt;</span>\n<span class='nt'>&lt;/categories&gt;</span>\n</code></pre></div>\n<ol>\n<li>\n<p>Buildings</p>\n\n<ol>\n<li>Endpoint: <code>http://citl.gwu.edu/iphonedev/maps/[shortname].xml</code></li>\n\n<li>Return:</li>\n</ol>\n</li>\n</ol>\n<div class='highlight'><pre><code class='xml'><span class='cp'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</span>\n<span class='nt'>&lt;buildings</span> <span class='na'>xmlns:xsi=</span><span class='s'>&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class='nt'>&gt;</span>\n    <span class='nt'>&lt;building&gt;</span>\n        <span class='nt'>&lt;buildingNumber&gt;</span>153<span class='nt'>&lt;/buildingNumber&gt;</span>\n        <span class='nt'>&lt;campus&gt;</span>Foggy Bottom<span class='nt'>&lt;/campus&gt;</span>\n        <span class='nt'>&lt;UsageClassification&gt;</span>Academic<span class='nt'>&lt;/UsageClassification&gt;</span>\n        <span class='nt'>&lt;buildingName&gt;</span>1776 G St<span class='nt'>&lt;/buildingName&gt;</span>\n        <span class='nt'>&lt;address&gt;</span>1776 G St<span class='nt'>&lt;/address&gt;</span>\n        <span class='nt'>&lt;geoLocation&gt;</span>38.897984,-77.04146<span class='nt'>&lt;/geoLocation&gt;</span>\n        <span class='nt'>&lt;shortname&gt;</span>NA<span class='nt'>&lt;/shortname&gt;</span>\n        <span class='nt'>&lt;picturelink&gt;</span>http://www.gwu.edu/~newsctr/mobile/images/maps/1776-G-ST_UP_WLA_2010-6618.jpg<span class='nt'>&lt;/picturelink&gt;</span>\n    <span class='nt'>&lt;/building&gt;</span>\n    <span class='nt'>&lt;building&gt;</span>\n        <span class='nt'>&lt;buildingNumber&gt;</span>136<span class='nt'>&lt;/buildingNumber&gt;</span>\n        <span class='nt'>&lt;campus&gt;</span>Foggy Bottom<span class='nt'>&lt;/campus&gt;</span>\n        <span class='nt'>&lt;UsageClassification&gt;</span>Academic<span class='nt'>&lt;/UsageClassification&gt;</span>\n        <span class='nt'>&lt;buildingName&gt;</span>1957 E St<span class='nt'>&lt;/buildingName&gt;</span>\n        <span class='nt'>&lt;address&gt;</span>1957 E St<span class='nt'>&lt;/address&gt;</span>\n        <span class='nt'>&lt;geoLocation&gt;</span>38.896193,-77.044294<span class='nt'>&lt;/geoLocation&gt;</span>\n        <span class='nt'>&lt;shortname&gt;</span>1957E<span class='nt'>&lt;/shortname&gt;</span>\n        <span class='nt'>&lt;picturelink&gt;</span>http://www.gwu.edu/~newsctr/mobile/images/maps/Elliot_School_UP_WLA_2010-3102.jpg<span class='nt'>&lt;/picturelink&gt;</span>\n    <span class='nt'>&lt;/building&gt;</span>\n<span class='nt'>&lt;/buildings&gt;</span>\n</code></pre></div>\n<h3 id='api_wrapper'>API Wrapper</h3>\n\n<ol>\n<li>Source</li>\n</ol>\n<script src='http://gist-it.appspot.com/github/benbalter/GW-API/raw/master/gw-api.php'>     </script>\n<ol>\n<li>Usage</li>\n</ol>\n\n<h4 id='initialize'>Initialize:</h4>\n<div class='highlight'><pre><code class='php'><span class='cp'>&lt;?php</span> <span class='nv'>$gwapi</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>gw_api</span><span class='p'>;</span> <span class='cp'>?&gt;</span><span class='x' />\n</code></pre></div>\n<h4 id='list_departments'>List Departments</h4>\n<div class='highlight'><pre><code class='php'><span class='cp'>&lt;?php</span> <span class='nv'>$departments</span> <span class='o'>=</span> <span class='nv'>$gwapi</span><span class='o'>-&gt;</span><span class='na'>get_schedule</span><span class='p'>();</span>\n  <span class='k'>foreach</span> <span class='p'>(</span><span class='nv'>$departments</span> <span class='k'>as</span> <span class='nv'>$department</span><span class='p'>)</span>\n  <span class='k'>echo</span> <span class='nv'>$department</span><span class='o'>-&gt;</span><span class='na'>departmentname</span> <span class='o'>.</span> <span class='s1'>&#39;&lt;br /&gt;&#39;</span><span class='p'>;</span><span class='cp'>?&gt;</span><span class='x' />\n</code></pre></div>\n<h4 id='get_course_schedule_for_fall_2011'>Get Course Schedule for Fall 2011</h4>\n<div class='highlight'><pre><code class='php'><span class='cp'>&lt;?php</span> <span class='nv'>$courses</span> <span class='o'>=</span> <span class='nv'>$gwapi</span><span class='o'>-&gt;</span><span class='na'>get_schedule</span><span class='p'>(</span><span class='s1'>&#39;2011&#39;</span><span class='p'>,</span><span class='s1'>&#39;03&#39;</span><span class='p'>,</span><span class='s1'>&#39;ACCY&#39;</span><span class='p'>);</span><span class='cp'>?&gt;</span><span class='x' />\n</code></pre></div>\n<h4 id='get_course_schedule_for_current_term'>Get Course Schedule for current term</h4>\n<div class='highlight'><pre><code class='php'><span class='cp'>&lt;?php</span> <span class='nv'>$courses</span> <span class='o'>=</span> <span class='nv'>$gwapi</span><span class='o'>-&gt;</span><span class='na'>get_schedule</span><span class='p'>(</span><span class='k'>null</span><span class='p'>,</span><span class='k'>null</span><span class='p'>,</span><span class='s1'>&#39;ACCY&#39;</span><span class='p'>);</span> <span class='cp'>?&gt;</span><span class='x' />\n</code></pre></div>\n<h4 id='get_map_categories'>Get map categories</h4>\n<div class='highlight'><pre><code class='php'><span class='cp'>&lt;?php</span> <span class='nv'>$categories</span> <span class='o'>=</span> <span class='nv'>$gwapi</span><span class='o'>-&gt;</span><span class='na'>get_map</span><span class='p'>();</span> <span class='cp'>?&gt;</span><span class='x' />\n</code></pre></div>\n<h4 id='get_buildings'>Get Buildings</h4>\n<div class='highlight'><pre><code class='php'><span class='cp'>&lt;?php</span> <span class='nv'>$buildings</span> <span class='o'>=</span> <span class='nv'>$gwapi</span><span class='o'>-&gt;</span><span class='na'>get_maps</span><span class='p'>(</span><span class='s1'>&#39;academic&#39;</span><span class='p'>);</span> <span class='cp'>?&gt;</span><span class='x' />\n</code></pre></div>\n<p>[Photo: <a href='http://www.flickr.com/photos/atomicbartbeans/1430289931/'>atomicbartbeans</a>]</p>"}