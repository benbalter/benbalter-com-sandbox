{"author":"Benjamin J. Balter","title":"Google Analytics Tracking of JetPack (Sharedaddy) Social Engagement\n","excerpt":"Google recently added social engagement tracking to its analytics suite. With a little bit of leg work, Google Analytics can track not only +1s, but also Facebook and Twitter shares via a simple _gaq.push call.\n","layout":"post","categories":["Technology"],"tags":["analytics","facebook","google","open source","plugin","social media","twitter","wordpress"],"post_format":[],"related_posts":[{"url":"/2010/09/12/wordpress-resume-plugin/","id":"/2010/09/12/wordpress-resume-plugin","title":"WordPress Resume Plugin"},{"url":"/2010/09/13/new-media-flak-megaphone-vs-cocktail-party/","id":"/2010/09/13/new-media-flak-megaphone-vs-cocktail-party","title":"New Media Flak: Megaphone vs. Cocktail Party"},{"url":"/2010/10/10/does-every-cloud-have-a-silver-lining/","id":"/2010/10/10/does-every-cloud-have-a-silver-lining","title":"Does Every Cloud Have a Silver Lining?"},{"url":"/2010/11/06/removing-the-barriers-to-organizational-agility/","id":"/2010/11/06/removing-the-barriers-to-organizational-agility","title":"Removing the Barriers to Organizational Agility\n"},{"url":"/2010/11/08/what-fourteen-century-apple-pie-teaches-us-about-sharing/","id":"/2010/11/08/what-fourteen-century-apple-pie-teaches-us-about-sharing","title":"What Fourteen-Century Apple Pie Teaches Us About Sharing\n"},{"url":"/2010/11/15/will-federal-contracting-officers-soon-have-their-heads-in-the-clouds/","id":"/2010/11/15/will-federal-contracting-officers-soon-have-their-heads-in-the-clouds","title":"Will Federal Contracting Officers Soon Have Their Heads in the Clouds?\n"},{"url":"/2010/11/29/free-trade-in-china-just-google-it/","id":"/2010/11/29/free-trade-in-china-just-google-it","title":"Free Trade in China? Just Google it."},{"url":"/2010/11/29/twitter-mentions-as-comments/","id":"/2010/11/29/twitter-mentions-as-comments","title":"Twitter Mentions as Comments WordPress Plugin\n"},{"url":"/2010/12/01/the-internet-is-series-of-tubes/","id":"/2010/12/01/the-internet-is-series-of-tubes","title":"The Internet is Series of Tubes (oh, and Tollgates too)\n"},{"url":"/2010/12/20/late-night-infomercials/","id":"/2010/12/20/late-night-infomercials","title":"Late-Night Infomercials: Guaranteed to Extend the 4th Amendment or Your Money Back"}],"url":"/2011/06/30/google-analytics-tracking-of-jetpack-sharedaddy-social-engagement/","date":"2011-06-30 00:00:00 +0000","id":"/2011/06/30/google-analytics-tracking-of-jetpack-sharedaddy-social-engagement","next":"/2011/08/29/wp-document-revisions-document-management-version-control-wordpress","previous":"/2011/06/16/groupon-and-livingsocial","content":"<p>Google recently added <a href='http://mashable.com/2011/06/30/google-analytics-social-plugin/'>social engagement tracking</a> to its analytics suite. With a little bit of leg work, Google Analytics can track not only +1s, but also Facebook and Twitter shares via a simple <code>_gaq.push</code> call.</p>\n\n<p>If your site uses WordPress&#8217;s JetPack plugin with Sharedaddy, and you already have <a href='http://yoast.com/wordpress/google-analytics/'>Google Analytics</a> up and running, you can use jQuery to attach the virtual event to the share button.</p>\n\n<p>To add Google Analytics to Sharedaddy&#8217;s Twitter share button:</p>\n<div>\n<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;a.share-twitter&#39;</span><span class='p'>).</span><span class='nx'>click</span><span class='p'>(</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>\n<span class='nx'>_gaq</span><span class='p'>.</span><span class='nx'>push</span><span class='p'>(</span> <span class='p'>[</span><span class='s1'>&#39;_trackSocial&#39;</span><span class='p'>,</span> <span class='s1'>&#39;twitter&#39;</span><span class='p'>,</span> <span class='s1'>&#39;share&#39;</span><span class='p'>,</span>\n<span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>).</span><span class='nx'>attr</span><span class='p'>(</span><span class='s1'>&#39;href&#39;</span><span class='p'>).</span><span class='nx'>substr</span><span class='p'>(</span><span class='mi'>0</span><span class='p'>,</span> <span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>).</span><span class='nx'>attr</span><span class='p'>(</span><span class='s1'>&#39;href&#39;</span><span class='p'>).</span><span class='nx'>indexOf</span><span class='p'>(</span><span class='s1'>&#39;?&#39;</span><span class='p'>))]);</span>\n<span class='p'>});</span>\n</code></pre></div>\n</div>\n<p>â€¦and for Facebook:</p>\n<div>\n<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;a.share-facebook&#39;</span><span class='p'>).</span><span class='nx'>click</span><span class='p'>(</span> <span class='kd'>function</span><span class='p'>()</span> <span class='p'>{</span>\n<span class='nx'>_gaq</span><span class='p'>.</span><span class='nx'>push</span><span class='p'>(</span> <span class='p'>[</span><span class='s1'>&#39;_trackSocial&#39;</span><span class='p'>,</span> <span class='s1'>&#39;faceboook&#39;</span><span class='p'>,</span> <span class='s1'>&#39;share&#39;</span><span class='p'>,</span>\n<span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>).</span><span class='nx'>attr</span><span class='p'>(</span><span class='s1'>&#39;href&#39;</span><span class='p'>).</span><span class='nx'>substr</span><span class='p'>(</span><span class='mi'>0</span><span class='p'>,</span> <span class='nx'>$</span><span class='p'>(</span><span class='k'>this</span><span class='p'>).</span><span class='nx'>attr</span><span class='p'>(</span><span class='s1'>&#39;href&#39;</span><span class='p'>).</span><span class='nx'>indexOf</span><span class='p'>(</span><span class='s1'>&#39;?&#39;</span><span class='p'>))]);</span>\n<span class='p'>});</span>\n</code></pre></div>\n</div>\n<p>The above code simply listens for the share button to be clicked, and if so, passes the target URL back to Google, along with the service&#8217;s name. Putting it all together into a plugin with a hook to <del>`wp_head`</del> <code>wp_footer</code> you get:</p>\n<script src='https://gist.github.com/1058469.js'> </script>\n<p>The code should work out of the box with the standard share buttons (seen below), but can easily be adapted with a few minor modifications to apply to like and other iterations of the social media icons.</p>\n\n<p>More details on the tracking code can be found over in the <a href='http://code.google.com/apis/analytics/docs/tracking/gaTrackingSocial.html'>Google Analytics Social Engagement Documentation</a>. Improve the code to work with your site? Feel free to <a href='https://gist.github.com/1058469'>fork the gist</a> and contribute it back.</p>\n\n<p><strong>Update:</strong> Dedicated reader All-around rabble-rouser <a href='http://andrewnacin.com'>Andrew Nacin</a> points out that by default, jQuery is queued up into the footer. Updated the above code to hook into <code>wp_footer</code> with a priority of 20 (higher than jQuery&#8217;s 10 hook).</p>\n\n<p><strong>Update:</strong> Special thanks to <a href='http://twitter.com/Ramoonus'>@Ramoonus</a> for <a href='https://gist.github.com/1058469/db96b6836f279811205bddbf8be67bec6ca2159c'>didn&#8217;t queue up jQuery</a>.</p>"}